!function(){var e={4758:function(e,t,n){"use strict";n.r(t)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){n(4758);let e={},t=!1,o="",r=[],i="";const d=document.createElement("input");d.id="meaning-input",d.placeholder="回车添加，esc退出";const a=["background:#f8ebd840","padding:3px","font-weight:700","color:#6b5152","border-radius:4px 0 0 4px"].join(";"),s=["background:#ead0d180","font-weight:700","padding:3px","color:#7a7281","border-radius:0 4px 4px 0"].join(";"),c=["background:#ead0d180","font-weight:700","padding:3px","color:#7a7281","border-radius:4px"].join(";");function u(n){if(!function(e){let t=!0;return["input","textarea"].includes(e.target.type)&&(t=!!window.getSelection().toString()),t}(n))return;const u=n.key.toLowerCase();if("tab"===u&&(d.style.marginBottom?d.style.marginBottom="":d.style.marginBottom="0"),t)if("enter"===u){if("meaning"===o)m("ADD_MEANING",d.value),l();else if("words"===o)m("ADD_WORD",d.value),l();else if("review"===o){let e=Math.round(Math.random()*(r.length-1));console.log("%c%s",c,i.word),i=r[e],console.log("%c%s%c%s",a,i.meaning,s,i.word.substring(0,3)),d.value=""}}else"escape"===u&&l();else{e[u]=!0;const t=window.getSelection().toString();e.a&&e.f?t?m("ADD_WORD",t):g("words"):e.e&&e.f?t?m("ADD_MEANING",t):g("meaning"):e.s&&e.f?window.open("https://dictionary.cambridge.org/dictionary/english-chinese-simplified/"+t||""):e.r&&e.f&&async function(){r=await m("GET_ALL_WORDS");let e=Math.round(Math.random()*(r.length-1));i=r[e],g("review"),console.log("%c%s%c%s",a,i.meaning,s,i.word.substring(0,3))}()}setTimeout((()=>{e={}}),100)}function l(){d.parentNode.removeChild(d),d.value=null,t=!1}function g(e){document.body.appendChild(d),d.value="",d.focus(),t=!0,o=e}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return chrome.runtime.sendMessage({type:e,data:t})}document.addEventListener("keydown",u),chrome.runtime.onMessage.addListener((function(e,t,n){const{type:o,data:r}=e;"GET_ENABLE_STATE"===o&&n(localStorage.getItem("ENABLE_WORDPICKER")||"true"),"SET_ENABLE_STATE"===o&&(localStorage.setItem("ENABLE_WORDPICKER",r),"true"===r?(document.removeEventListener("keydown",u),document.addEventListener("keydown",u)):document.removeEventListener("keydown",u))}))}()}();