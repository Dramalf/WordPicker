!function(){var e={7994:function(e,t,r){"use strict";r.r(t),r.d(t,{wordsDB:function(){return o}});const n="F_WORD_TB",o={set:async e=>{let t=(await chrome.storage.local.get(n))[n]||[];return t.some((t=>t.word===e.word))?t=t.map((t=>(t.word===e.word&&(t={...t,...e,id:(new Date).getTime()}),t))):t.unshift({...e,id:(new Date).getTime()}),await chrome.storage.local.set({F_WORD_TB:t}),t},get:async e=>{const t=(await chrome.storage.local.get(n))[n];return e?t.filter((t=>Object.keys(e).every((r=>e[r]===t[r])))):t},delete:async e=>{let t=(await chrome.storage.local.get(n))[n];return t=t.filter((t=>t.word!==e.word)),await chrome.storage.local.set({F_WORD_TB:t}),t}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){const{wordsDB:e}=r(7994);async function t(){let[e]=await chrome.tabs.query({active:!0,currentWindow:!0});return e.id}chrome.runtime.onMessage.addListener(((r,n,o)=>{console.log("BG GET==>",r);const{type:a,data:c}=r;switch(a){case"INIT":(async function(){return await e.get()})().then((e=>{o(e)}));break;case"GET_ALL_WORDS":e.get().then((e=>{o(e)}));break;case"ADD_WORD":!function(t){let r={id:(new Date).getTime(),word:t};e.set(r),chrome.storage.sync.set({currentWord:{word:t}})}(c);break;case"ADD_MEANING":!async function(t){const r=(await chrome.storage.sync.get(["currentWord"])).currentWord;console.log(r),r.meaning=t,e.set(r),chrome.storage.sync.set({currentWord:r})}(c);break;case"EDIT_MEANING":!async function(t){e.set(t)}(c);break;case"DELETE_WORD":!async function(t){e.delete(t)}(c);break;case"SEARCH_WORD":!async function(e){const r=await t();console.log("search",e),chrome.scripting.excuteScript({target:{tabId:r},func:e=>{const t=new CustomEvent("search-word",{url:e});window.dispatchEvent(t)},args:[e]})}(c);break;case"ENABLE":!async function(e){const r=await t();chrome.tabs.sendMessage(r,{enable:e})}(c);break;default:console.log("unknown type",c)}return!0}))}()}();